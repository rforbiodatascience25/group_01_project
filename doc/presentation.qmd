---
title: "Presentation"
author: "Asbj√∏rn, Emiliano, Magnus, Oliver and Trine"
format:
  revealjs:
    theme: simple
    transition: slide
    footer: "Group 01 R for Bio data science 22160"
    highlight-style: github
    code-fold: false
    slide-number: c/t
    show-slide-number: all
output-dir: doc
---

```{r}
#| eval: true
library("tidyverse")
finaldata <- read.csv(file = "../data/finaldata.csv.gz")
```

# Introduction 2

::: {#Introduction style="font-size: 0.8em"}
-   Dataset from NCBI

-   Transcriptional profiling of colon epithelial from ulcerative colitis patients and healthy controls

-   Ulcers in the colon

-   chronic inflamation

-   Aim to find and analyze variation between healthy controls and patients

    -   what smoking does
    -   Effect of genes
:::

# Materials of Methods 3

::::: columns
::: {.column width="50%" style="font-size: 0.9em"}
-   Biopsies from the gut
    -   202 samples

    -   from 67 patients

    -   30 healthy controls
-   Gene expression
-   Augtments to the data
    -   Age and Age group
    -   Time untreated
:::

::: {.column width="50%"}

```{r}
finaldata |> 
  distinct(geo_accession, .keep_all = TRUE) |> 
  ggplot(aes(x = age_group)
) +
  geom_bar()

```
:::
:::::

::: {#Source .Reference style="font-size: 0.6em"}
*Noble CL, Abbas AR, Cornelius J, et al Regional variation in gene expression in the healthy colon is dysregulated in ulcerative colitis Gut 2008;**57:**1398-1405.*
:::

## Filtering data 4

::::: columns
::: {.column width="50%"}
Removing one-type columns

```{r Cleaning_phenodata, echo=TRUE, eval=FALSE}
phenodata <- phenodata |>
  select(
    where(
      ~ n_distinct(
        .x, na.rm = TRUE) > 1))
```
:::

::: {.column width="50%"}
Removing low variance genes

```{r Cleaning_genes, echo=TRUE, eval=FALSE}
gene_var <- exprs_df |> 
  # Drop the sample ID column, keep only expression values
  select(-geo_accession) |> 
  summarise(across(everything(), ~ var(.x, na.rm = TRUE))) |> 
  pivot_longer(
    cols      = everything(),
    names_to  = "gene",
    values_to = "variance"
  )
# Cutoff genes that does not vary more than 0.05 - 2909 genes remaining
genes_keep <- gene_var |> 
  filter(variance > 0.05) |> 
  pull(gene)

exprs_filtered <- exprs_df |> 
  select(geo_accession, all_of(genes_keep))

```
:::
:::::

## Augmenting Data 5

# Results 6

# plot 7

# Discussion 8

## 
